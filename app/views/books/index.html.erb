<h1>
  Welcome <%= current_user.username %>!
</h1>
<h1 class="text-decoration-underline">
  Books Read in <%= Time.now.year %>
</h1>
<div class="d-grid gap-2 col-3">
  <%= link_to new_book_path, class: "btn btn-warning btn-block fw-bold" do %>
    <i class="bi bi-plus-circle-fill me-2"></i>
    New Book
  <% end %>
</div>
<br/>
<h5>
  Number of Books Read: <%= @total_books_read %>
</h5>
<h5 class="mb-5">
  Number of Pages Read: <%= @number_of_pages_read %>
</h5>
<table class="table table-striped table-bordered">
  <thead>
    <tr class="table-info">
      <th scope="col">#</th>
      <th scope="col">Title</th>
      <th scope="col">Author</th>
      <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <% @books.each_with_index do |book, index| %>
      <tr>
        <th scope="row">
          <%= ((@books.current_page - 1) * @books.limit_value) + index + 1 %>
        </th>
        <td>
          <%= book.title %>
        </td>
        <td>
          <%= book.author %>
        </td>
        <td>
          <%= book.description %>
        </td>
      </tr>
      <tr>
        <th scope="col"></th>
        <!-- SHOW BOOK -->
        <td class="text-center">
          <%= link_to book_path(book), class: "btn btn-info btn-sm text-nowrap" do %>
            <i class="bi bi-info-circle-fill"></i>
          <% end %>
        </td>
        <!-- EDIT BOOK -->
        <td class="text-center">
          <%= link_to edit_book_path(book), class: "btn btn-secondary btn-sm text-nowrap" do %>
            <i class="bi bi-pencil-fill"></i>
          <% end %>
        </td>
        <!-- DELETE BOOK -->
        <td style="text-align: right;">
          <%= link_to book_path(book), method: :delete, class: "btn btn-danger btn-sm text-nowrap", data: { confirm: 'Are you sure?' } do %>
            <i class="bi bi-trash-fill"></i>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<div class="pagination">
  <%= paginate @books %>
</div>